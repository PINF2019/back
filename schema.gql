# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Candidate {
  id: ID!
  firstName: String!
  lastName: String!
  about: String
  image: String
}

input CandidateInput {
  firstName: String!
  lastName: String!
  about: String
}

type Census {
  id: ID!
  group: String!
  date: DateTime!
  location: String!
  voters: [Voter!]!
}

input CensusInput {
  group: String!
  date: DateTime!
  location: String!
  voters: [VoterInput!]!
}

type ColegiateBody {
  id: ID!
  name: String!
  users: [User!]!
}

input ColegiateBodyInput {
  name: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Election {
  id: ID!
  start: DateTime!
  end: DateTime!
  description: String!
  maxVotes: Int!
  voteWeights: [VoteWeight!]!
  candidates: [Candidate!]!
  secretary: User!
  results(filter: ResultsFilter = {group: false, location: false, genre: false}): ResultsForElection!
  censuses: [Census!]!
  delegates: [User!]!
}

input ElectionInput {
  start: DateTime!
  end: DateTime!
  description: String!
  censuses: [CensusInput!]!
  delegates: [ID!]!
  maxVotes: Int = 1
  candidates: [CandidateInput!]!
  voteWeights: [VoteWeightInput!] = []
}

type ElectionResults {
  votes: Int!
  group: String
  location: String
  genre: Genre
  candidate: Candidate!
}

type ElectionVote {
  id: ID!
  user: ID!
  election: ID!
  candidate: ID!
}

union ElectoralProcess = Election | Poll

type File {
  name: String!
}

enum Genre {
  MALE
  FEMALE
  OTHER
}

input LoginInput {
  uid: String!
  password: String!
}

type LoginPayload {
  accessToken: String!
}

type Mutation {
  modifyUser(input: UserUpdateInput!, id: ID!): User!
  createUser(input: UserInput!): User!
  deleteUser(id: ID!): User!
  login(input: LoginInput!): LoginPayload!
  createColegiateBody(input: ColegiateBodyInput!): ColegiateBody!
  deleteCandidate(id: ID!, election: ID!): Candidate!
  createElection(input: ElectionInput!): Election!
  voteOnElection(input: VoteElectionInput!): Boolean!
  modifyElection(input: UpdateElectionInput!, id: ID!): Election!
  deleteElection(id: ID!): Boolean!
  uploadFile(file: Upload!): File!
  createPoll(input: PollInput!): Poll!
  voteOnPoll(input: VotePollInput!): Boolean!
  modifyPoll(input: UpdatePollInput!, id: ID!): Poll!
  deletePoll(id: ID!): Boolean!
}

type Poll {
  id: ID!
  start: DateTime!
  end: DateTime!
  description: String!
  maxVotes: Int!
  question: String!
  options: [PollOption!]!
  isRealTime: Boolean!
  censuses: [Census!]!
  secretary: User!
  results(filter: ResultsFilter = {group: false, location: false, genre: false}): ResultsForPoll!
  delegates: [User!]!
}

input PollInput {
  start: DateTime!
  end: DateTime!
  description: String!
  censuses: [CensusInput!]!
  delegates: [ID!]!
  maxVotes: Int = 1
  question: String!
  options: [String!] = ["A Favor", "En Contra", "Abstenci√≥n"]
  isRealTime: Boolean!
}

type PollOption {
  id: ID!
  text: String!
}

type PollResults {
  id: ID!
  votes: Int!
  group: String
  location: String
  genre: Genre
  option: PollOption!
}

type PollVote {
  id: ID!
  user: String!
  poll: String!
  option: String!
}

type Query {
  users: [User!]!
  user(id: ID!): User!
  me: User!
  colegiateBody(id: ID!): ColegiateBody!
  collegiateBodies: [ColegiateBody!]!
  electoralProcesses(open: Boolean = false, finished: Boolean = false): [ElectoralProcess!]!
  electoralProcess(id: ID!): ElectoralProcess!
  pendingElectoralProcesses: [ElectoralProcess!]!
  elections: [Election!]!
  pendingElections: [Election!]!
  election(id: ID!): Election!
  census(id: ID!): Census!
  censuses(skip: Int = 0, limit: Int = 0): [Census!]!
  polls: [Poll!]!
  poll(id: ID!): Poll!
  pendingPolls: [Poll!]!
}

input ResultsFilter {
  group: Boolean!
  location: Boolean!
  genre: Boolean!
}

type ResultsForElection {
  """Votantes habilitados"""
  voters: Int!

  """Votos Emitidos"""
  votesCast: Int!

  """Votos en blanco"""
  whiteVotes: Int!
  results: [ElectionResults!]!
}

type ResultsForPoll {
  """Votantes habilitados"""
  voters: Int!

  """Votos Emitidos"""
  votesCast: Int!

  """Votos en blanco"""
  whiteVotes: Int!
  results: [PollResults!]!
}

"""All possible roles on app"""
enum Role {
  ADMIN
  SECRETARY
  VOTER
}

input UpdateElectionInput {
  start: DateTime
  end: DateTime
  description: String
  censuses: [CensusInput!]
  delegates: [UserInput!]
  candidates: [CandidateInput!]
}

input UpdatePollInput {
  start: DateTime
  end: DateTime
  description: String
  censuses: [CensusInput!]
  delegates: [UserInput!]
  question: String
  options: [String!]
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  id: ID!
  uid: String!
  dni: String!
  firstName: String!
  lastName: String!
  roles: [Role!]!
  genre: Genre!
  colegiateBody: ColegiateBody!
}

input UserInput {
  uid: String!
  dni: String!
  password: String!
  firstName: String!
  lastName: String!
  roles: [Role!] = []
  colegiateBody: ID!
  genre: Genre!
}

input UserUpdateInput {
  password: String
  firstName: String
  lastName: String
  roles: [Role!]
  colegiateBody: ID
  genre: Genre
}

input VoteElectionInput {
  candidates: [ID!]!
  election: ID!
}

input VotePollInput {
  options: [ID!]!
  poll: ID!
}

type Voter {
  firstName: String!
  lastName: String!
  uid: String!
  dni: String!
}

input VoterInput {
  firstName: String!
  lastName: String!
  uid: String!
  dni: String!
}

type VoteWeight {
  group: String!
  weight: Float!
}

input VoteWeightInput {
  group: String!
  weight: Float!
}
