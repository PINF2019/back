# -----------------------------------------------
# !!! THIS FILE WAS GENERATED BY TYPE-GRAPHQL !!!
# !!!   DO NOT MODIFY THIS FILE BY YOURSELF   !!!
# -----------------------------------------------

type Candidate {
  id: ID!
  firstName: String!
  lastName: String!
  about: String
  image: String
}

input CandidateInput {
  firstName: String!
  lastName: String!
  about: String
}

type Census {
  id: ID!
  group: String!
  date: DateTime!
  location: String!
  voters: [Voter!]!
}

input CensusInput {
  group: String!
  date: DateTime!
  location: String!
  file: String!
}

"""
The javascript `Date` as string. Type represents date and time as the ISO Date string.
"""
scalar DateTime

type Election {
  id: ID!
  start: DateTime!
  end: DateTime!
  description: String!
  rectifyVote: Boolean!
  candidates: [Candidate!]!
  results: [ElectionResults!]!
  censuses: [Census!]!
}

input ElectionInput {
  start: DateTime!
  end: DateTime!
  description: String!
  rectifyVote: Boolean!
  censuses: [CensusInput!]!
  candidates: [CandidateInput!]!
}

type ElectionResults {
  id: ID!
  votes: Int!
  candidate: Candidate!
  group: String!
  location: String!
}

type ElectionVote {
  id: ID!
  user: ID!
  election: ID!
  candidate: ID!
}

union ElectoralProcess = Election | Poll

type File {
  name: String!
}

input LoginInput {
  uid: String!
  password: String!
}

type LoginPayload {
  accessToken: String!
}

type Mutation {
  login(input: LoginInput!): LoginPayload!
  createElection(input: ElectionInput!): Election!
  voteOnElection(input: VoteElectionInput!): Boolean!
  uploadFile(file: Upload!): File!
  createPoll(input: PollInput!): Poll!
  voteOnPoll(input: VotePollInput!): Boolean!
}

type Poll {
  id: ID!
  start: DateTime!
  end: DateTime!
  description: String!
  rectifyVote: Boolean!
  question: String!
  options: [PollOption!]!
  numVotesAllowed: Float!
  censuses: [Census!]!
  results: [PollResults!]!
}

input PollInput {
  start: DateTime!
  end: DateTime!
  description: String!
  rectifyVote: Boolean!
  censuses: [CensusInput!]!
  question: String!
  options: [String!]!
  numVotesAllowed: Float!
}

type PollOption {
  id: ID!
  text: String!
}

type PollResults {
  id: ID!
  votes: Int!
  option: PollOption!
  group: String!
  location: String!
}

type PollVote {
  id: ID!
  user: String!
  poll: String!
  option: String!
}

type Query {
  users: [User!]!
  user(id: ID!): User!
  me: User!
  candidates: [Candidate!]!
  candidate(id: ID!): Candidate!
  electoralProcesses: [ElectoralProcess!]!
  electoralProcess(id: ID!): ElectoralProcess!

  """Devuelve aquellos procesos electorales que a√∫n no han sido iniciados"""
  futureElectoralProcesses: [ElectoralProcess!]!

  """Devuelve aquellos procesos electorales que han sido finalizados"""
  pastElectoralProcesses: [ElectoralProcess!]!
  elections: [Election!]!
  userVotesOnElection(electionId: String!): [ElectionVote!]!
  pendingElections: [Election!]!
  election(id: ID!): Election!
  census(id: ID!): Census!
  censuses(skip: Int = 0, limit: Int = 0): [Census!]!
  polls: [Poll!]!
  poll(id: ID!): Poll!
  userVotesOnPoll(pollId: String!): [PollVote!]!
}

"""All possible roles on app"""
enum Role {
  ADMIN
  SECRETARY
}

"""The `Upload` scalar type represents a file upload."""
scalar Upload

type User {
  id: ID!
  uid: String!
  firstName: String!
  lastName: String!
  roles: [Role!]!
}

input VoteElectionInput {
  candidate: ID!
  election: ID!
  rectifiedVote: ID
}

input VotePollInput {
  option: ID!
  poll: ID!
  rectifiedVote: ID
}

type Voter {
  firstName: String!
  lastName: String!
  uid: String!
}
